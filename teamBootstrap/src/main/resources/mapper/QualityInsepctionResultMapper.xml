<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="ksmart39.springboot.dao.QualityInsepctionResultMapper">

<!-- 품질검사 최종결과 리스트 -->
<select id="getInsepectionFinalResult" resultType="Map">
	SELECT 
		r.requested_product_code,
		c.client_name,
		p.gender_categorized_name,
		p.detailed_categorized_name,
		i.low_cate_final_pass_check,
		i.final_result_reg_date
	FROM inspection_final_result AS  i
	INNER JOIN 
		quality_inspection_request AS q
		ON i.quality_inspection_request_code = q.quality_inspection_request_code
	INNER JOIN 
		requested_product_detail AS r
		ON q.requested_product_code = r.requested_product_code
	INNER join
		product_code_detail AS p
		ON r.product_code =p.product_code
	INNER join
		client_info AS c 
		ON  r.client_code = c.client_code
	GROUP BY q.requested_product_code;
	
</select>

<select id="getClientName" resultType="Map">
	SELECT 
 		DISTINCT(c.client_name)
	FROM inspection_final_result AS  i
	INNER JOIN 
		quality_inspection_request AS q
		ON i.quality_inspection_request_code = q.quality_inspection_request_code
	INNER JOIN 
		requested_product_detail AS r
		ON q.requested_product_code = r.requested_product_code
	INNER join
		product_code_detail AS p
		ON r.product_code =p.product_code
	INNER join
		client_info AS c 
		ON  r.client_code = c.client_code;
</select>




</mapper>