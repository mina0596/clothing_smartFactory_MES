<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
xmlns:layout="http://www.ultraq.net.nz/thymeleaf/Layout"
layout:decorate="@{layout/default_qualityControl}">


<th:block layout:fragment="customJs">
	<script type="text/javascript">
		$(function(){
			//#checkAll 버튼 클릭 시 전체 checked
			$('#checkAll').click(function(){
				if($('#checkAll').prop('checked')){
					$('.checked').prop('checked',true);
				}else{
					$('.checked').prop('checked',false);
				}
			});	
				
		    var tableAttr = $('#list').children();
			var tdList = tableAttr.find('.radioClass');
			var radioSelected = tableAttr.find('.radioClass').is(':checked');
			
			
			//원부자재 재료 구분명 가져오는 modal
			$('#searchBtn1').click(function(){
				$('#byMaterialCategory').modal("show");
			});
			
			$('#sendMaterialCateNameBtn').click(function(){
				tdList = tableAttr.find('.radioClass');
				tdList.each(function(){
					if($(this).is(':checked')){
						var par = $(this).parent();
						var materialCateName = par.parent().find('.materialCate').text();
						console.log(materialCateName + '<<materialCateName');
						$('#materialCateName').attr('value', materialCateName);
						$('#materialCateName').attr('readOnly', true);
						
					}				
					
				});
			});
			
			//원부자재 재료명 가져오는 modal
			$('#searchBtn2').click(function(){
				$('#byMaterialName').modal("show");
			});
			
			$('#sendMaterialNameBtn').click(function(){
			    var tableAttr = $('#materialNamelist').children();
				var tdList = tableAttr.find('.radioClass');
				var radioSelected = tableAttr.find('.radioClass').is(':checked');
				tdList = tableAttr.find('.radioClass');
				tdList.each(function(){
					if($(this).is(':checked')){
						var par = $(this).parent();
						var materialName = par.parent().find('.materialName').text();
						console.log(materialName + '<<materialName');
						$('#materialName').attr('value', materialName);
						$('#materialName').attr('readOnly', true);
						
					}				
					
				});
			});
			
			//색상명 가져오는 modal
			$('#searchBtn3').click(function(){
				$('#byColorlName').modal("show");
			});
			
			$('#sendMaterialNameBtn').click(function(){
			    var tableAttr = $('#colorNamelist').children();
				var tdList = tableAttr.find('.radioClass');
				var radioSelected = tableAttr.find('.radioClass').is(':checked');
				tdList = tableAttr.find('.radioClass');
				tdList.each(function(){
					if($(this).is(':checked')){
						var par = $(this).parent();
						var materialName = par.parent().find('.materialName').text();
						console.log(materialName + '<<materialName');
						$('#materialName').attr('value', materialName);
						$('#materialName').attr('readOnly', true);
						
					}				
					
				});
			});
			
			
			
	    	$('[data-popup-open]').on('click', function(e)  {
		       var targeted_popup_class = jQuery(this).attr('data-popup-open');
		       $('[data-popup="' + targeted_popup_class + '"]').fadeIn(350);

		       e.preventDefault();
		   });

		    //----- CLOSE
		    $('[data-popup-close]').on('click', function(e)  {
		       var targeted_popup_class = jQuery(this).attr('data-popup-close');
		       $('[data-popup="' + targeted_popup_class + '"]').fadeOut(350);

		       e.preventDefault();
		    });
		}) 
	
	
	</script>
</th:block>

<th:block layout:fragment="container">
	<div class="form-panel form-horizontal">
	   <h4 class="mb"><i class="fa fa-edit"></i> 품질검사 기준표 등록</h4>
	   <hr>
	   <br>
	   
	   <div class="panel-heading">
         <ul class="nav nav-tabs nav-justified">
           <li class="active">
             <a data-toggle="tab" href="#overview" aria-expanded="true">등급별</a>
           </li>
           <li class="">
             <a data-toggle="tab" href="#contact" aria-expanded="false">수치별</a>
           </li>
           <li class="">
             <a data-toggle="tab" href="#edit" aria-expanded="false">Y/N</a>
           </li>
         </ul>
       </div>
	    
	    <!-- panel-body 시작 -->
	   <div class="panel-body">
          <div class="tab-content">
          <!-- 등급별화면 시작 -->
            <div id="overview" class="tab-pane active">
              <div class="row">                 
                <div class="form-group">
               	<div class="col-md-2" style="padding-left: 50px;">
	          		<label class="col-sm-2 control-label" style="font-weight: 600;">품질검사명</label>
               	</div>
		          <div class="col-md-5">
		            <div  class="input-group date form_datetime-adv">
		              <input type="text" class="form-control" id="materialCateName" size="16">
		              <div class="input-group-btn">
		                <button type="button" class=" btn btn-theme03 btn btn-default" id="searchBtn1"><i class="fa"></i>검색하여 가져오기</button>
		              </div>
		            </div>
		          </div>
		        </div>
	                <!-- /col-md-6 -->
	              </div>
	              <!-- /OVERVIEW -->
	            </div>
	            <!-- 등급별화면 끝 -->
	            
	            <!-- 수치별화면 시작 -->
	            <div id="contact" class="tab-pane">
	              <div class="row">
	                <div class="col-md-6">
                  
                </div>
                <!-- /col-md-6 -->
              </div>
              <!-- /row -->
            </div>
            <!-- 수치별 화면 끝 -->
            
            
            <!-- Y/N 화면 시작 -->
            <div id="edit" class="tab-pane">
              <div class="row">
                <div class="col-lg-8 col-lg-offset-2 detailed">
                  
                </div>
                
                <!-- /col-lg-8 -->
              </div>
              <!-- /row -->
            </div>
            <!-- Y/N 화면 끝 -->
          </div>
           <!-- /tab-content -->
         </div>            
	
        
        
        
        
      
    </div>
    
    <!-- 모달화면에서의 검색부분 -->
        <div class="modal fade modal-xl"  id="byMaterialCategory" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
		  <div class="modal-dialog" style="width:auto;display:table" role="document">
		    <div class="modal-content">
		      <div class="modal-header">
		        <h4 class="modal-title" id="exampleModalLabel"><i class="fa fa-globe"></i> 원부자재 재료 구분 검색</h4>
		        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
		          <span aria-hidden="true">&times;</span>
		        </button>
		      </div>     
		      <div class="modal-body">
		   <div class="form-group">
          <div class="col-md-6">
          <select class="form-control">
		   <option>::구분선택::</option>
		   <option>원부재</option>
		   <option>부자재</option>
		  </select>
		  </div>
		  
          <div class="input-group col-md-6">
            <input type="text" class="form-control" size="5">
            <div class="input-group-btn">
              <button type="button" class=" btn btn-theme03 btn btn-default"><i class="fa"></i>검색</button>
            </div>
          </div>
		</div>

	<!-- 모달에서 테이블부분  -->
       <table class="table table-striped table-advance table-hover" id="list">
         <thead>
           <tr>
             <th><i class="fa fa-check-circle-o"></i> 선택</th>
             <th><i class="fa fa-bullhorn"></i> 번호</th>
             <th class="hidden-phone"><i class="fa fa-bookmark"></i> 원부자재 구분</th>
             <th><i class="fa fa-bookmark"></i> 원부자재 재료 구분명</th>
           </tr>
         </thead>
         <tbody>
           <tr>
             <td><input type="radio" class="radioClass"></td>
             <td>1</td>
             <td>원자재</td>
             <td class="materialCate">원단</td>
            </tr>
           <tr>
            <td><input type="radio" class="radioClass"></td>
            <td>2</td>
            <td>부자재</td>
            <td class="materialCate">단추</td>
           </tr>
           <tr>
            <td><input type="radio" class="radioClass"></td>
            <td>3</td>
            <td>부자재</td>
            <td class="materialCate">실</td>
           </tr>
           <tr>
            <td><input type="radio" class="radioClass"></td>
            <td>4</td>
            <td>부자재</td>
            <td class="materialCate">지퍼</td>
           </tr>
         </tbody>
       </table>
	 </div>
    </div>
    <div class="modal-footer">
      <button type="button" class="btn btn-secondary" data-dismiss="modal">닫기</button>
      <button type="button" class="btn btn-primary" id="sendMaterialCateNameBtn" data-dismiss="modal">값가져오기</button>
       </div>
    </div>
   
  </div>

		<!-- 모달테스트 끝  -->

</th:block>

</html>