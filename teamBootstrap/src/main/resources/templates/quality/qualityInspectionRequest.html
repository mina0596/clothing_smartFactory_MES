<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
xmlns:layout="http://www.ultraq.net.nz/thymeleaf/Layout"
layout:decorate="@{layout/default_qualityControl}">

<th:block layout:fragment="pageTitle">
	   <div class="border-head"> 
	    <h3>품질 관리</h3>
	    </div>
</th:block>


<th:block layout:fragment="container">
    <div class="form-panel">
      <h4 class="mb"><i class="fa fa-edit"></i>품질 검사 요청</h4>
      <hr>
      <br>
      
      <form th:action="@{/qualityInspectionRequest}" class="form-horizontal style-form" method="post">

        <div class="form-group">
		          <label class="col-sm-2 col-sm-2 control-label">계약번호</label>
		          <div class="col-md-4">
		            <div  class="input-group ">
		              <input type="search" id="contractNum" class="form-control"  size="16">
		              <div class="input-group-btn">
		                <button type="button" id="searchContractNum" class=" btn btn-theme03 btn btn-default"><i class="fa"></i>검색하여 가져오기</button>
		              </div>
		            </div>
		          </div>
		        </div>
         <div class="form-group">
             <label class="col-sm-2 col-sm-2 control-label">품목별 의뢰 코드</label>
             <div class="col-sm-4">
               <input type="text" id="requested_product_code" name="raw_material_transaction_amount" class="form-control" disabled="disabled" >
             </div>
         </div>
         <div class="form-group">
                  <label class="col-sm-2 col-sm-2 control-label" >대분류 검사명</label>
                  <div class="col-sm-4">
                      <select class="form-control">
						<option>::선택::</option>
						<option>원자재검사</option>
						<option>공정중간검사</option>
						<option>완재품검사</option>
		               </select>
                  </div>
         </div> 
         <div class="form-group">
                  <label class="col-sm-2 col-sm-2 control-label">중분류 검사명</label>
                  <div class="col-sm-4">
                      <select class="form-control">
						<option>::선택::</option>
						<option>원단 이화학검사(파괴검사)</option>
						<option>재단물검사</option>
						<option>봉제검사</option>
						<option>마무리</option>
		               </select>
                  </div>
                </div>
                <div class="form-group">
                  <label class="col-sm-2 col-sm-2 control-label">소분류 검사명</label>
                  <div class="col-sm-4">
                      <select class="form-control">
						<option>::선택::</option>
						<option>물세탁</option>
						<option>드라이클리닝_염색성</option>
						<option>땀,일광복합견뢰도</option>
						<option>마찰변색도</option>
		               </select>
                  </div>
                </div>
                <div class="form-group">
                  <label class="col-sm-2 col-sm-2 control-label">소분류 검사 상세명</label>
                  <div class="col-sm-4">
                      <select class="form-control">
						<option>::선택::</option>
						<option>해당없음</option>
						<option>변퇴색</option>
						<option>직물 외관변화</option>
						<option>자체이염</option>
						<option>건</option>
		               </select>
                  </div>
                </div> 
                <div class="form-group">
                  <label class="col-sm-2 col-sm-2 control-label">샘플링 검사 유무</label>
                  <div class="col-sm-4">
                      <select class="form-control">
						<option>::선택::</option>
						<option>샘플링 검사</option>
						<option>해당 없음</option>
				
		               </select>
                  </div>
                </div>
                 <div class="form-group">
                  <label class="col-sm-2 col-sm-2 control-label">특이사항</label>
                  <div class="col-sm-4">
                    <input type="text" class="form-control">
                  </div>
                </div>
                 <div class="form-group">
		          <label class="col-sm-2 col-sm-2 control-label">검사 완료 요청 시각</label>
		          <div class="col-md-4">
		            <div data-date="2014-02-01T10:05:00Z" class="input-group date form_datetime-adv">
		              <input type="text" class="form-control" readonly="readonly" size="16">
		              <div class="input-group-btn">
		                <button type="button" class="btn btn-theme02 date-reset"><i class="fa fa-times"></i></button>
		                <button type="button" class="btn btn-theme date-set"><i class="fa fa-calendar"></i></button>
		              </div>
		            </div>
		          </div>
		        </div>
       
        <div class="form-group">
          <label class="col-lg-2 col-sm-2 control-label">담당 사원명</label>
          <div class="col-lg-10">
            <p class="form-control-static">김다미</p>
          </div>
        </div>
        
        <div class="form-group">
          <label class="col-lg-2 col-sm-2 control-label">담당자 사원 코드</label>
          <div class="col-lg-10">
            <p class="form-control-static">W01</p>
          </div>
        </div>
 		
         <div class="form-group text-right">
          <div class="col-lg-offset-2 col-lg-10">
            <button class="btn btn-theme" type="submit"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">요청</font></font></button>
            <button class="btn btn-theme04" type="button"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">취소</font></font></button>
          </div>
        </div>
      </form>
      
    </div>
    
    
		<!-- searchContractNum 모달 시작 -->
	     <div class="modal fade modal-xl"  id="bySupplierModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
		  <div class="modal-dialog" style="width:auto;display:table" role="document">
		    <div class="modal-content">
		      <div class="modal-header">
		        <h4 class="modal-title" id="exampleModalLabel">발주처 검색</h4>
		        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
		          <span aria-hidden="true">&times;</span>
		        </button>
		      </div>
		      
		      <!-- 모달본문 -->
		   <div class="modal-body">
		   
		   <table  class="table table-striped table-advance table-hover">
         	<tbody>       		
       			<thead>
        			<tr>
	         			<th colspan="3" style="padding-right: 20px;">
	         				<div class="form-inline" style="margin-bottom: 0px;">
		         				<label class="control-label">거래처명</label>
			                	<input type="text" class="form-control" id="exampleInputPassword2" placeholder="검색어를 입력하세요.">
		              		</div>
	         			</th>  
	         			<th colspan="2" style="padding-right: 20px;">
	         				<div class="form-inline" style="margin-bottom: 0px;">
		         				<label class="control-label">품목별 코드</label>
			                	<input type="text" class="form-control" id="exampleInputPassword2" placeholder="검색어를 입력하세요.">
		              		</div>
	         			</th>  
	         			<th colspan="1" style="padding-right: 20px;">
	         				<div class="form-inline" style="margin-bottom: 0px;">
		         				<label class="control-label">품목명</label>
			                	<select class="form-control" style="width: 125px;">
			                		<option>All</option>
			                		<option>여성양복</option>
			                		<option>남성양복</option>
			                	</select>
		              		</div>
	         			</th>  
         				<th colspan="1" style="padding-right: 20px;">
         				<div class="form-inline" style="margin-bottom: 0px;">
	         				<label class="control-label">품목소분류명</label>
		                	<select class="form-control" style="width: 125px;">
		                		<option>All</option>
		                		<option>바지</option>
		                		<option>스커트</option>
		                	</select>
         				  <button type="submit" class="btn btn-theme">검색</button>
	              		</div>
         				</th>
        			</tr>     			
       			</thead>
       			<tbody style="text-align: center;">
       				<tr>
       					<td><i class="fa fa-check"></i></td>
       					<td>no.</td>
       					<td>계약번호</td>
       					<td>거래처명</td>
       					<td>품목별 코드</td>
       					<td>품목명</td>
       					<td>품목 소분류명</td>
       				</tr>
     				<tr>
     					<td><input type="radio" name="byRequestCode"></td>
     					<td>1</td>
       					<td class="contractNum">123456</td>
       					<td>나는 단추</td>
       					<td class="byRequestCode">req01_MS_pants</td>
       					<td>남성양복</td>
       					<td>바지</td>
     				</tr>
     				
       			</tbody>        		
         	</tbody>
         </table> 
         
		 </div>
		    <div class="modal-footer">
			      <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
			      <button type="button" id="saveValue" class="btn btn-primary" data-dismiss="modal">Save changes</button>
		      </div>
		    </div>
		  </div>
		</div>
		<!-- bySupplierModal 끝 -->

		<script type="text/javascript">
			$(function(){
				$('#searchContractNum').click(function(){
					$('#bySupplierModal').modal('show');
						
						$('#saveValue').click(function(){
							var check = $('input[name=byRequestCode]:checked');
							var requestCode = check.parents('tr').find('.byRequestCode').text();
							var contractNum = check.parents('tr').find('.contractNum').text();
							console.log(requestCode);
							console.log(contractNum);
							$('#requested_product_code').attr('value', requestCode);
							$('#contractNum').attr('value', contractNum);
							
						});					
				});
				
			});
		</script>
</th:block>

</html>