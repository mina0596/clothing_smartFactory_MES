<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
xmlns:layout="http://www.ultraq.net.nz/thymeleaf/Layout"
layout:decorate="@{layout/default_contract}">

<th:block layout:fragment="pageTitle">
	   <div class="border-head"> 
	    <h3>수/발주관리</h3>
	    </div>
	<th:block layout:fragment="customJs">
	<script>

	$(function(){
		$('#cancleBtn').click(function(){
			window.history.back();
		});
		
		var tableAttr= $('#seachrSupplierList').children();
		var tdList = tableAttr.find('.bySupplierModal');
		var radioCheck = tableAttr.find('.bySupplierModal').is(':checked');
		var checkId = $(this).attr('id');
		//거래처명 검색 모달 
		$('#searchSupplier').click(function(){
			$('#bySupplierModal').modal("show");
		});
		$('#saveSupplier').click(function(){
			var check = $('input[name=bySupplierModal]:checked');
			tdList =tableAttr.find('.bySupplierModal');
			tdList.each(function(){
				if($(this).is(':checked')){
					var parent = $(this).parent();
					var searchSupplierName = par.parent().find('.searchSupplierName').text();
					console.log(supplierName+"<거래처명");
					var searchSupplierEmployee = par.parent().find('.searchSupplierEmployee').text();
					var supplierTel = par.parent().find('.searchSupplierTel').text();
					$('#supplierContractName').attr('value',searchSupplierName);
					$('#supplierEmployee').attr('value',supplierEmployee);
					$('#supplierPhone').attr('value',supplierTel);
				}
			});
			
		});
		$('[data-popup-open]').on('click', function(e)  {
		       var targeted_popup_class = jQuery(this).attr('data-popup-open');
		       $('[data-popup="' + targeted_popup_class + '"]').fadeIn(350);

		       e.preventDefault();
		   });

		    //----- CLOSE
		    $('[data-popup-close]').on('click', function(e)  {
		       var targeted_popup_class = jQuery(this).attr('data-popup-close');
		       $('[data-popup="' + targeted_popup_class + '"]').fadeOut(350);

		       e.preventDefault();
		    });
	
	});
	
	</script>
	</th:block>	  
</th:block>


<th:block layout:fragment="container">
	
	
    <div class="form-panel">
      <h4 class="mb"><i class="fa fa-edit"></i> 발주등록</h4>
      <hr>
      <br>
      
      <form class="form-horizontal style-form" method="post" >

       <div class="form-group">
          <label class="col-sm-2 col-sm-2 control-label"> 거래처명</label>
          <div class="col-md-5">
            <div  class="input-group ">
              <input type="search" class="form-control" id="supplierContractName" size="16">
              <div class="input-group-btn">
                <button type="button" class=" btn btn-theme03 btn btn-default" id="searchSupplier" ><i class="fa"></i>검색하여 가져오기</button>
              </div>
            </div>
          </div>
        </div>
        
       
        
        <div class="form-group">
          <label class="col-sm-2 col-sm-2 control-label" style="font-weight: 600;">거래처담당자</label>
         <div class="col-md-5">
            <input class="form-control" id="supplierEmployee" type="text"  >
          </div>
        </div>
        
        <div class="form-group">
          <label class="col-sm-2 col-sm-2 control-label" style="font-weight: 600;">거래처 연락처</label>
          <div class="col-md-5">
          	<input class="form-control" id="supplierPhone" type="tel"  >
          </div>
        </div>
           	        
        <div class="form-group">
          <label class="col-sm-2 col-sm-2 control-label">원부자재명</label>
          <div class="col-md-5">
            <div  class="input-group ">
              <input type="search" class="form-control"  size="16">
              <div class="input-group-btn">
                <button type="button" class=" btn btn-theme03 btn btn-default"><i class="fa"></i>검색하여 가져오기</button>
              </div>
            </div>
          </div>
        </div>
        
        
        <div class="form-group">
          <label class="col-sm-2 col-sm-2 control-label" style="font-weight: 600;">원부자재 색상</label>
          <div class="col-md-5">
            <input type="text" class="form-control" placeholder="검색한 색상명" disabled="disabled">
          </div>
        </div>
        <div class="form-group">
          <label class="col-sm-2 col-sm-2 control-label" style="font-weight: 600;">원부자재 패턴및 특징</label>
          <div class="col-md-5">
           <input type="text" class="form-control" placeholder="검색한 패턴및 특징" disabled="disabled">
          </div>
        </div>
        <div class="form-group">
          <label class="col-sm-2 col-sm-2 control-label" style="font-weight: 600;">원부자재  발주수량</label>
          <div class="col-md-5">
           <input type="text" class="form-control" placeholder="" >
          </div>
        </div>
        <div class="form-group">
           	  	<label class="col-sm-2 col-sm-2 control-label" style="font-weight: 600;">발주단위</label>
           	  	<div class="col-sm-4">
             	 <select class="form-control">
                  <option>단위</option>
                  <option> 개</option>
                  <option> kg</option>
                  <option> 필</option>
                 </select>
           	  	</div>
           	 	</div>
      <div class="form-group">
          <label class="col-sm-2 col-sm-2 control-label">원부자재납기일</label>
          <div class="col-md-4">
            <div data-date="2014-02-01T10:05:00Z" class="input-group date form_datetime-adv">
              <input type="text" class="form-control" readonly="readonly" size="16">
              <div class="input-group-btn">
                <button type="button" class="btn btn-theme02 date-reset"><i class="fa fa-times"></i></button>
                <button type="button" class="btn btn-theme date-set"><i class="fa fa-calendar"></i></button>
              </div>
            </div>
          </div>
        </div>
        	<div class="form-group">
          <label class="col-lg-2 col-sm-2 control-label">발주등록자</label>
          <div class="col-md-5">
            <p class="form-control-static">한보람</p>
          </div>
        </div>
       <div class="form-group text-right">
                    <div class="col-lg-offset-2 col-lg-10">
                     <a th:href="@{/supplierContractList}"> <button class="btn btn-theme" type="button"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">발주요청등록</font></font></button></a>
                      <button class="btn btn-theme04" type="button" id="cancleBtn"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">발주요청취소</font></font></button>
                    </div>
                    </div>
       		</form>
      
    	</div>
    <!-- 거래처명 검색 모달 시작-->
     <div class="modal fade modal-xl"  id="bySupplierModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
		  <div class="modal-dialog" style="width:auto;display:table" role="document">
		    <div class="modal-content">
		      <div class="modal-header">
		        <h4 class="modal-title" id="exampleModalLabel">발주처 검색</h4>
		        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
		          <span aria-hidden="true">&times;</span>
		        </button>
		      </div>
		      
		      <!-- 모달본문 -->
		   <div class="modal-body">
		   
		   <table  class="table table-striped table-advance table-hover" id="seachrSupplierList">
         	<tbody>       		
       			<thead>
        			<tr>
	         			<!-- <th style="padding-bottom: 12px;"><label class="control-label">발주처 명</label></th> -->
	         			<th colspan="3" style="padding-right: 20px;">
	         				<div class="form-inline" style="margin-bottom: 0px;">
		         				<label class="control-label">발주처 명</label>
			                	<input type="text" class="form-control" id="searchSupplierName" placeholder="검색어를 입력하세요.">
	         				 <button type="submit" class="btn btn-theme">검색</button>
		              		</div>
	         			</th>  
        			</tr>     			
       			</thead>
       			<tbody style="text-align: center;">
       				<tr>
       					<td><i class="fa fa-check"></i></td>
       					<td>no.</td>
       					<td>발주거래처명</td>
       					<td>발주거래처담당자</td>
       					<td>발주거래처연락처 </td>
       				</tr>
     				<tr>
     					<td><input type="radio" name="bySupplierModal"></td>
     					<td>1</td>
       					<td class="searchSupplierName" >나는 단추</td>
       					<td class="searchSupplierEmployee">홍길동</td>
       					<td class="searchSupplierTel">070-2515-1555</td>
     				</tr>
     				<tr>
     					<td><input type="radio" name="bySupplierModal"></td>
     					<td>2</td>
       					<td class="searchSupplierName">견고한지퍼나라</td>
       					<td class="searchSupplierEmployee" >공예윤</td>
       					<td class="searchSupplierTel">070-2505-1545</td>
     				</tr>
     				<tr>
     					<td><input type="radio" name="bySupplierModal"></td>
     					<td>3</td>
       					<td class="searchSupplierName">부드러운실크컴퍼니</td>
       					<td class="searchSupplierEmployee" >서윤우</td>
       					<td class="searchSupplierTel" >070-2815-1555</td>
     				</tr>
     				<tr>
     					<td><input type="radio" name="bySupplierModal"></td>
     					<td>4</td>
       					<td class="searchSupplierName">정교한심지</td>
       					<td class="searchSupplierEmployee" >이로운</td>
       					<td class="searchSupplierTel" >070-658-9208</td>
     				</tr>
       			</tbody>        		
         	</tbody>
         </table> 
      </div> 
      <div class="modal-footer">
			      <button type="button" class="btn btn-secondary" data-dismiss="modal">닫기</button>
			      <button type="button" id="saveSupplier" class="btn btn-primary" data-dismiss="modal">확인</button>
		      </div>
		    </div>
		  </div>
		</div>
    
           
	 <script th:src="@{Dashio/lib/jquery-ui-1.9.2.custom.min.js}"></script>
  <script type="text/javascript" th:src="@{Dashio/lib/bootstrap-fileupload/bootstrap-fileupload.js}"></script>
  <script type="text/javascript" th:src="@{Dashio/lib/bootstrap-datepicker/js/bootstrap-datepicker.js}"></script>
  <script type="text/javascript" th:src="@{Dashio/lib/bootstrap-daterangepicker/date.js}"></script>
  <script type="text/javascript" th:src="@{Dashio/lib/bootstrap-daterangepicker/daterangepicker.js}"></script>
  <script type="text/javascript" th:src="@{Dashio/lib/bootstrap-datetimepicker/js/bootstrap-datetimepicker.js}"></script>
  <script type="text/javascript" th:src="@{Dashio/lib/bootstrap-daterangepicker/moment.min.js}"></script>
  <script type="text/javascript" th:src="@{Dashio/lib/bootstrap-timepicker/js/bootstrap-timepicker.js}"></script>
  <script th:src="@{Dashio/lib/advanced-form-components.js}"></script>
  <script src="lib/jquery/jquery.min.js"></script>

  <script src="lib/bootstrap/js/bootstrap.min.js"></script>
  <script class="include" type="text/javascript" src="lib/jquery.dcjqaccordion.2.7.js"></script>
  <script src="lib/jquery.scrollTo.min.js"></script>
  <script src="lib/jquery.nicescroll.js" type="text/javascript"></script>
  <!--common script for all pages-->
  <script src="lib/common-scripts.js"></script>
  <!--script for this page-->

	
</th:block>

</html>